<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>*ë°©ë°©ê³¡ê³¡* ë‚´ê²Œ ë§ëŠ” ì•„íŒŒíŠ¸ ê²€ìƒ‰</title>

    <!-- ìŠ¤íƒ€ì¼ CSS (Flaskìš©) -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />

    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />

    <style>
      h2 {
        margin-top: 50px;
        margin-bottom: 0;
        margin-left: 20px;
      }

      .swiper {
        width: 100%;
        max-width: 1024px;
        margin: 40px auto;
        padding: 10px 0;
      }

      .swiper-slide {
        display: flex;
        justify-content: center;
      }

      .apartment {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        width: 300px;
        height: 350px;
        overflow: hidden;
        transition: transform 0.3s ease;
        display: flex;
        flex-direction: column;
      }

      .apartment img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.2s ease;
      }

      .apartment:hover img {
        transform: scale(1.03);
      }

      .apartment-info {
        padding: 16px;
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .apartment-title {
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 8px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .apartment-desc {
        font-size: 14px;
        color: #555;
        margin-bottom: 8px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        line-height: 1.4;
        height: 2.8em;
      }

      .apartment-price {
        font-weight: bold;
        color: #1976d2;
        margin-top: auto;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      {% include 'header.html' %}
      <div class="container">
        <h2>âœ¨ëŸ­ì…”ë¦¬ ì•„íŒŒíŠ¸âœ¨</h2>

        <!-- Swiper ìºëŸ¬ì…€ ì‹œì‘ -->
        <div class="swiper">
          <div class="swiper-wrapper">
            <!-- ìŠ¬ë¼ì´ë“œ -->
            {% for apt in exp_apt %}
            <div class="swiper-slide">
              <div class="apartment">
                <img
                  class="exp_apt"
                  src="/static/img/no_img_apt.jpg"
                  alt="{{apt.name}}"
                />
                <div class="apartment-info">
                  <div class="apartment-title">{{apt.name}}</div>
                  <div class="apartment-desc">
                    {{apt.gu}} {{apt.dong}} / {{apt.pyung}}í‰ /
                    {{apt.years}}ì—°ì‹ / ì£¼ë³€ ì§€í•˜ì² {{apt.subway}}
                  </div>
                  <div class="apartment-price">
                    {% set eok = (apt.price // 10000) | int %} {% set chun =
                    (apt.price % 10000) | int %} ë§¤ë§¤ê°€ {{ eok }}ì–µ{% if chun >
                    0 %} {{ "{:,.0f}".format(chun) }}ë§Œì›{% endif %}
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>

          <!-- ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
          <!-- <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div> -->
        </div>

        <h2>ğŸ“ˆìƒìŠ¹ì´ ì˜ˆìƒë˜ëŠ” ì•„íŒŒíŠ¸ğŸ”º</h2>
        <div class="swiper">
          <div class="swiper-wrapper">
            <!-- ìŠ¬ë¼ì´ë“œ -->
            {% for apt in reg_apt %}
            <div class="swiper-slide">
              <div class="apartment">
                <img
                  class="reg_apt"
                  src="/static/img/no_img_apt.jpg"
                  alt="{{apt.name}}"
                />
                <div class="apartment-info">
                  <div class="apartment-title">{{apt.name}}</div>
                  <div class="apartment-desc">
                    {{apt.gu}} {{apt.dong}} / {{apt.pyung}}í‰ /
                    {{apt.years}}ì—°ì‹ / ì£¼ë³€ ì§€í•˜ì² {{apt.subway}}
                  </div>
                  <div class="apartment-price">
                    {% set eok = (apt.price // 10000) | int %} {% set chun =
                    (apt.price % 10000) | int %} ë§¤ë§¤ê°€ {{ eok }}ì–µ{% if chun >
                    0 %} {{ "{:,.0f}".format(chun) }}ë§Œì›{% endif %}
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>

          <!-- ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
          <!-- <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div> -->
        </div>
      </div>
      {% include 'footer.html' %}
    </div>

    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
      new Swiper(".swiper", {
        slidesPerView: 3,
        slidesPerGroup: 1,
        spaceBetween: 20,
        autoplay: {
          delay: 3000, // 3ì´ˆë§ˆë‹¤ ìë™ ì´ë™
          disableOnInteraction: false, // ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í›„ì—ë„ ê³„ì† ìë™ì¬ìƒ
        },
        breakpoints: {
          0: {
            slidesPerView: 1,
          },
          600: {
            slidesPerView: 2,
          },
          1024: {
            slidesPerView: 3,
          },
        },
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        //ëŸ­ì…”ë¦¬ ì•„íŒŒíŠ¸
        const expList = document.querySelectorAll("img.exp_apt");
        const expSrcList = [
          "/static/img/exp_apt/park_hannam.jpg", //íŒŒë¥´í¬í•œë‚¨
          "/static/img/exp_apt/ph129.jpg", //ph129
          "/static/img/exp_apt/nineone_hannam.jpg", //ë‚˜ì¸ì›í•œë‚¨
          "/static/img/exp_apt/hyosung.jpg", //íš¨ì„±ë¹Œë¼ì²­ë‹´
          "/static/img/exp_apt/gallery_apore.jpg", //ê°¤ëŸ¬ë¦¬ ì•„í¬ë ˆ
          "/static/img/exp_apt/sanziz.jpg", //ìƒì§€ì¦ˆë¦¬ì¸ ë¹Œì¹´ì¼ë£¸
          "/static/img/exp_apt/hanyang8.jpg", //í•œì–‘ 8ì°¨
          "/static/img/exp_apt/yeounseo.jpg", //ì—°ì„¸ë¦¬ë²„ìŠ¤í…Œë¼ìŠ¤
          "/static/img/exp_apt/hyundai2.jpg", //í˜„ëŒ€2ì°¨
          "/static/img/exp_apt/hyundaibillart.jpg", //í˜„ëŒ€ë¹Œë¼íŠ¸
        ];

        //ìƒìŠ¹ì˜ˆì¸¡ ì•„íŒŒíŠ¸
        expList.forEach((img, index) => {
          if (index < expSrcList.length) {
            img.src = expSrcList[index];
          }
        });

        const regList = document.querySelectorAll("img.reg_apt");
        const regSrcList = [
          "/static/img/reg_apt/bicondreamhill.jpg", //ë¹„ì½˜ë“œë¦¼í3
          "/static/img/reg_apt/hanyang5.jpg", //í•œì–‘5
          "/static/img/reg_apt/whagaymanshon.jpg", //í™”ê³„ë§¨ìˆ€
          "/static/img/reg_apt/samwhan.jpg", //ì‚¼í™˜
          "/static/img/reg_apt/haringturnplace.jpg", //í•´ë§í„´í”Œë ˆì´ìŠ¤
          "/static/img/reg_apt/sansungremian.jpg", //ì‚¼ì„±ë ˆë¯¸ì•ˆì•ˆ
          "/static/img/reg_apt/hanullnewtown.jpg", //í•œìš¸ë‰´íƒ€ìš´ìš´
          "/static/img/reg_apt/haneillsernusbill.jpg", //í•œì¼ì¨ë„ˆìŠ¤ë¹Œë¹Œ
          "/static/img/reg_apt/purun3.jpg", //ëŠ˜í‘¸ë¥´3ì°¨
          "/static/img/reg_apt/sungrock.jpg", //ì„±ë½
        ];

        regList.forEach((img, index) => {
          if (index < regSrcList.length) {
            img.src = regSrcList[index];
          }
        });
      });
    </script>
  </body>
</html>
